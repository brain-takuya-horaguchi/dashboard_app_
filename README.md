# 📊 データ分析・可視化ツール

Streamlitを使用した企業別求職者データの分析・可視化ツールです。CSVファイルをアップロードするだけで、企業ごとの採用指標を自動計算し、グラフで可視化します。

## 🚀 機能

- **CSVファイルアップロード**: 求職者・企業データのCSVファイルを簡単にアップロード
- **自動指標計算**: 企業ごとに以下の指標を自動算出
  - 推薦人数
  - 書類提出数
  - 書類結果回収済
  - 書類通過率
  - 1次面接数
  - 1次面接通過率
  - 最終面接数
  - 内定数
- **インタラクティブな可視化**: Plotlyを使用した美しいグラフ表示
- **データダウンロード**: 算出された指標をCSVファイルでダウンロード
- **🤖 AIチャット機能**: OpenAI GPT-4o-miniを使用したデータ分析チャット

## 🔧 セットアップ

### 1. 環境変数の設定（推奨）

AIチャット機能を使用するには、OpenAI APIキーが必要です。

1. プロジェクトルートに `.env` ファイルを作成してください
2. 以下の内容を追加してください：

```env
OPENAI_API_KEY=sk-your-openai-api-key-here
```

3. `env_example.txt` ファイルを参考にしてください

### 2. インストール

```bash
pip install -r requirements.txt
```

### 3. 実行

```bash
streamlit run app.py
```

## 📋 必要なデータ形式

CSVファイルには以下の列が必要です：

| 列名 | 説明 |
|------|------|
| 求職者：求職者ID | 求職者の一意のID |
| 企業：企業名 | 企業名 |
| 進捗：書類提出日 | 書類提出日 |
| 進捗：面接日 | 面接日 |
| 進捗：面接回数 | 面接の回数 |
| 進捗：最終面接フラグ | 最終面接かどうか（1または0） |
| 進捗：内定日 | 内定日 |
| 進捗：ステータス | 進捗のステータス |

## 📊 使い方

1. **ファイルアップロード**: 左のサイドバーから「CSVファイルを選択してください」でファイルをアップロード
2. **データ確認**: アップロードされたデータの概要とサンプルを確認
3. **指標確認**: 企業別指標の一覧テーブルを確認
4. **可視化**: 複数のグラフで分析結果を視覚的に確認
5. **データダウンロード**: 算出された指標をCSVファイルでダウンロード

## 📈 算出される指標

- **推薦人数**: ユニークな求職者の数
- **書類提出数**: 書類提出日がある行の数
- **書類結果回収済**: ステータスが設定されている行の数
- **書類通過率**: 面接に進んだ人の割合
- **1次面接数**: 面接回数が1の行の数
- **1次面接通過率**: 1次面接から次のステップに進んだ人の割合
- **最終面接**: 最終面接フラグが1の行の数
- **内定数**: 内定日がある行の数

## 🎨 可視化の種類

- **企業別分析ダッシュボード**: 4つのサブプロットによる総合的な分析
- **推薦人数と内定数の比較**: 棒グラフによる比較
- **書類・面接通過率**: 線グラフによる通過率の推移
- **面接数の分布**: 面接段階別の人数分布
- **企業別パフォーマンス**: 推薦人数と内定数の散布図
- **円グラフ**: 書類提出数と内定数の分布

## 🔧 技術スタック

- **Python 3.7+**
- **Streamlit**: Webアプリケーションフレームワーク
- **Pandas**: データ処理
- **Plotly**: インタラクティブな可視化
- **NumPy**: 数値計算

## 📝 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 コントリビューション

バグレポートや機能要求は、GitHubのIssueまでお願いします。

## 📞 サポート

質問やサポートが必要な場合は、GitHubのIssueを作成してください。 